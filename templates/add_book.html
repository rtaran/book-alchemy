{% extends "base.html" %}

{% block title %}Add Book{% endblock %}

{% block content %}
<h1 class="text-center card-title">Add New Book</h1>

{% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
        {% for category, message in messages %}
            <div class="alert alert-{{ category }}">
                {{ message }}
            </div>
        {% endfor %}
    {% endif %}
{% endwith %}

<div class="form-container">
    <form method="POST">
        <div class="form-group">
            <label class="form-label">ISBN:</label>
            <input type="text" name="isbn" required class="form-input">
        </div>

        <div class="form-group">
            <label class="form-label">Title:</label>
            <input type="text" name="title" required class="form-input">
        </div>

        <div class="form-group">
            <label class="form-label">Publication Year:</label>
            <input type="number" name="publication_year" class="form-input">
        </div>

        <div class="form-group">
            <label class="form-label">Rating (1-5):</label>
            <select name="rating" class="form-select">
                <option value="0">No Rating</option>
                <option value="1">⭐</option>
                <option value="2">⭐⭐</option>
                <option value="3">⭐⭐⭐</option>
                <option value="4">⭐⭐⭐⭐</option>
                <option value="5">⭐⭐⭐⭐⭐</option>
            </select>
        </div>

        <div class="form-group">
            <label class="form-label">Author:</label>
            <select name="author_id" required class="form-select">
                {% for author in authors %}
                    <option value="{{ author.id }}">{{ author.name }}</option>
                {% endfor %}
            </select>
        </div>

        <button type="submit" class="form-button">Add Book</button>
    </form>
</div>

<div class="text-center mt-4">
    <a href="{{ url_for('home') }}">Back to Home</a>
</div>
{% endblock %}
